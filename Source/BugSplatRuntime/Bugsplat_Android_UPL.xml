<?xml version="1.0" encoding="utf-8"?>
<root xmlns:android="http://schemas.android.com/apk/res/android">
    <init>
        <log text="BugSplat SDK Android UPL initialization"/>

        <setBoolFromProperty result="bEnableCrashReporting" ini="Engine" section="/Script/BugSplatRuntime.BugSplatEditorSettings" property="bEnableCrashReportingAndroid" default="false" />
        <setBoolFromProperty result="bUploadSymbols" ini="Engine" section="/Script/BugSplatRuntime.BugSplatEditorSettings" property="bUploadDebugSymbolsAndroid" default="false" />
    </init>

    <prebuildCopies>
      <if condition="bEnableCrashReporting">
        <true>
          <copyFile src="$S(PluginDir)/../ThirdParty/Android/bugsplatunitylib-release.aar" dst="$S(BuildDir)/gradle/app/libs/bugsplatunitylib-release.aar" />
        </true>
      </if>
    </prebuildCopies>

    <buildGradleAdditions>
        <insert>
            android {
                compileOptions {
                    targetCompatibility JavaVersion.VERSION_1_8
                    sourceCompatibility JavaVersion.VERSION_1_8
                }
            }

            dependencies {
                implementation fileTree(dir: 'libs', include: ['*.aar', '*.jar'])
            }

            repositories {
                mavenCentral()
            }
        </insert>
    </buildGradleAdditions>

</root>